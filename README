Create by Anthony Marcar - Copyright 2011

========================
To use:
========================

1. Install logback-gelf to your local or company maven respository

// in project root
mvn clean install

2. Add the following to your project's pom.xml

<dependencies>
    ...
    <dependency>
        <groupId>logback-gelf</groupId>
        <artifactId>logback-gelf</artifactId>
        <version>0.1</version>
    </dependency>
    ...
</dependencies>

3. Edit your project's logback.xml or logback.groovy to point at the graylog2 server. See src/test/resources/logback.groovy for an example.

4. Start logging! (see src/test/java/logbackgelf/FullTest.java for example)






===================
More advanced stuff
===================

in logback.groovy, if you set useLoggerName to true, then the logger name will be added to every gelf message.





The additional fields are pretty cool too:

Let's take an example. I want to log the client's ip address of every request that comes into my web server. To do this, I add the ipaddress to the slf4j MDC on each request as follows:

    ...
    MDC.put("ipAddress", "44.556.345.657");
    ...

Now, to include the ip address in the gelf message, i just add the following to my logback.groovy:

    appender("GELF", GelfAppender) {
        ...
        additionalFields = [identity:"_identity"]
        ...
    }

in the additionalFields map, the key is the name of the MDC to look up. the value is the name that should be given to the key in the additional field in the gelf message.

==================